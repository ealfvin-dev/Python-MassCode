#:import Factory kivy.factory.Factory

#:set buttonColor (0.08, 0.55, 1, 1)
#:set labelColor (0.95, 0.95, 0.96, 1)

#:set buttonSizer 20
#:set labelSizer 12

<MainLayout>:
    id: mainBox
    orientation: 'vertical'
    spacing: 10

    BoxLayout:
        id: navBar
        orientation: 'horizontal'
        size_hint: (1.0, 0.05)
        padding: (60, 0, 60, 0)

        Label:
            text: "[color=#FF970F][size=72][b]Some Logo[/b][/size][/color]"
            markup: True

        Button:
            id: openFile
            text: "Open File"

        Button:
            id: newFile
            text: "New File"

        Button:
            id: validation
            text: "Run Validation"

        Button:
            id: help
            text: "Help"

    BoxLayout:
        id: content
        orientation: 'horizontal'
        spacing: self.width / 20
        padding: (60, 15, 60, 30)

        BoxLayout:
            id: menu
            orientation: 'horizontal'
            spacing: self.width / 20

            BoxLayout:
                id: menuCol1
                orientation: 'vertical'
                spacing: self.height / 28

                Label:
                    text: "[b]Report\nHeader[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: labInfoButton
                    text: "[b]Lab Info &\nCal Notes[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: app.openLabInfoPop()

                Button:
                    id: restraintIdButton
                    text: "[b]Restraint ID[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: uncRestraintButton
                    text: "[b]Restraint\nUncertainty (mg)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: referenceTempButton
                    text: "[b]Reference Temp\n(" + u"\u00b0" + "C)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Cal Setup[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: dateButton
                    text: "[b]Cal Date[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: techIDButton
                    text: "[b]Technition\nID[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: balanceIDButton
                    text: "[b]Balance\nID[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: checkIDButton
                    text: "[b]Check\nID[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

            BoxLayout:
                id: menuCol2
                orientation: "vertical"
                spacing: self.height / 28

                Label:
                    text: "[b]Design[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: designIdButton
                    text: "[b]Design ID[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: numWeightsButton
                    text: "[b]# Positions[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: observationsButton
                    text: "[b]# Observations[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: designMatrixButton
                    text: "[b]Design Matrix[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: weightPositionsButton
                    text: "[b]Weight\nPositions[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Position\nVectors[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: restraintPositionButton
                    text: "[b]Restraint\nPosition[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: checkPositionButton
                    text: "[b]Check\nPosition[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: linearComboPositionButton
                    text: "[b]Linear Combo\nPosition[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: nextRestraintPositionButton
                    text: "[b]Next Restraint\nPosition[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

            BoxLayout:
                id: menuCol3
                orientation: "vertical"
                spacing: self.height / 28

                Label:
                    text: "[b]sw[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: swMassButton
                    text: "[b]sw Mass\n(mg)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: swDensityButton
                    text: "[b]sw Density\n(g/cm^3)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: swCCEButton
                    text: "[b]sw CCE\n(/" + u"\u00b0" +"C)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Statistics[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: sigmawButton
                    text: "[b]sw (mg)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: sigmatButton
                    text: "[b]st (mg)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Calibration\nData[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: balanceReadingsButton
                    text: "[b]Balance\nReadings[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: environmentalsButton
                    text: "[b]Environmentals[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: environmentalCorrectionsButton
                    text: "[b]Environmental\nCorrections[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

            BoxLayout:
                id: menuCol4
                orientation: "vertical"
                spacing: self.height / 28

                Button:
                    id: directReadingsButton
                    text: "[b]Direct Readings[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: directReadingsSFButton
                    text: "[b]Direct Readings\nSF (mg/div)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: nominalsInPoundsButton
                    text: "[b]Nominals In\nPounds?[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Optionals[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: gravityGradientButton
                    text: "[b]Gravity Gradient\n(s^-2)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Button:
                    id: comHeightsButton
                    text: "[b]COM Heights\n(cm)[/b]"
                    markup: True
                    background_normal: ''
                    background_color: buttonColor
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_press: root.addToTextBox(self)

                Label:
                    text: "[b]Actions[/b]"
                    markup: True
                    color: labelColor
                    font_size: dp(self.width / labelSizer)
                    halign: 'center'

                Button:
                    id: addSeriesButton
                    text: "[color=#FFFFFF][b]ADD\nSERIES[/b][/color]"
                    markup: True
                    background_normal: ''
                    background_color: (0.09, 0.64, 0.72, 0.95)
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'

                Button:
                    id: goToSeriesButton
                    text: "[color=#FFFFFF][b]GO TO\nSERIES[/b][/color]"
                    markup: True
                    background_normal: ''
                    background_color: (0.09, 0.64, 0.72, 0.95)
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'

                Button: 
                    id: saveButton
                    text: "[color=#000000][b]SAVE[/b][/color]"
                    markup: True
                    background_normal: ''
                    background_color: (1, 0.85, 0.02, 1)
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_release: root.save()

                Button:
                    id: runButton
                    text: "[color=#FFFFFF][b]RUN[/b][/color]"
                    markup: True
                    background_normal: ''
                    background_color: (0.62, 0.62, 0.62, 0.62)
                    font_size: dp(self.width / buttonSizer)
                    halign: 'center'
                    on_release: root.run()


        BoxLayout:
            id: textAreas
            orientation: "vertical"
            spacing: 20
            padding: (0, 0, 0, 0)

            TextInput:
                id: userText
                font_size: dp(14)
                background_normal: ''
                hint_text: "Input text file"
                text: ""
                markup: True
                on_focus: self.selection_color = 0.1843, 0.6549, 0.8313, 0.25
                on_text: root.textAdded()

            TextInput:
                id: errors
                font_size: dp(14)
                background_normal: ''
                text: "ERRORS:\n"
                foreground_color: 0.9, 0.05, 0.05, 0.85
                size_hint: (1.0, 0.2)

    Label:
        id: footer
        text: "[size=20]Copywrite Erik Alfvin, 2020[/size]"
        markup: True
        size_hint: (1.0, 0.01)

<LabInfoPopup>:
    id: labInfoPop
    auto_dismiss: False
    title: "Enter Laboratory Information"
    title_size: dp(18)
    size_hint: (0.5, 0.6)

    BoxLayout:
        id: LabInfoPLayout
        orientation: "vertical"
        spacing: 100
        padding: 20, 50, 20, 20
        
        TextInput:
            id: labInfoText
            hint_text: "Calibration Laboratory\nAddress Line 1\nAddress Line 2\nAddress Line 3\nItem Description\nNotes\n\nReport #"
            font_size: dp(16)
            background_normal: ''

        BoxLayout:
            orientation: "horizontal"
            spacing: 600
            padding: (10, 10)
            size_hint: (1, 0.2)

            Button:
                size_hint: (1, 1)
                text: "Save"
                font_size: dp(self.width / buttonSizer)
                background_normal: ''
                background_color: (0, 0.6, 0.82, 1)
                halign: 'center'
                on_press: root.writeText()

            Button:
                size_hint: (1, 1)
                text: "[color=#FFFFFF]Cancel[/color]"
                font_size: dp(self.width / buttonSizer)
                background_normal: ''
                background_color: (0.95, 0.1, 0.15, 0.95)
                halign: 'center'
                markup: True
                on_press: root.dismiss()